<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Bookstore - Event-Driven Microservices Architecture</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
            min-height: 100vh;
            padding: 30px;
            color: #fff;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #fff, #94a3b8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header h2 {
            font-size: 1.4rem;
            color: #10b981;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .tags {
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .tag {
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .tag-green { background: rgba(16, 185, 129, 0.2); color: #34d399; border: 1px solid rgba(16, 185, 129, 0.3); }
        .tag-blue { background: rgba(59, 130, 246, 0.2); color: #60a5fa; border: 1px solid rgba(59, 130, 246, 0.3); }
        .tag-purple { background: rgba(139, 92, 246, 0.2); color: #a78bfa; border: 1px solid rgba(139, 92, 246, 0.3); }
        .tag-orange { background: rgba(249, 115, 22, 0.2); color: #fb923c; border: 1px solid rgba(249, 115, 22, 0.3); }

        /* Main Diagram */
        .diagram-container {
            background: rgba(30, 41, 59, 0.5);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid #334155;
            position: relative;
        }

        .architecture-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background: linear-gradient(90deg, #059669, #0d9488);
            color: white;
            padding: 10px 18px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.9rem;
            box-shadow: 0 4px 15px rgba(5, 150, 105, 0.3);
        }

        .external-services {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .external-badge {
            padding: 8px 14px;
            border-radius: 8px;
            font-size: 0.75rem;
            font-weight: 500;
            color: white;
        }

        .badge-cdn { background: linear-gradient(135deg, #4f46e5, #7c3aed); }
        .badge-stripe { background: linear-gradient(135deg, #059669, #10b981); }
        .badge-email { background: linear-gradient(135deg, #2563eb, #0891b2); }

        /* Layers */
        .layer {
            margin-bottom: 20px;
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #475569;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .layer:hover {
            border-color: #64748b;
            background: rgba(255, 255, 255, 0.02);
        }

        .layer-label {
            font-size: 0.7rem;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 15px;
        }

        /* Client Layer */
        .client-layer { margin-top: 50px; }
        .clients {
            display: flex;
            justify-content: center;
            gap: 50px;
        }

        .client-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .client-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #06b6d4, #2563eb);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            box-shadow: 0 8px 25px rgba(6, 182, 212, 0.3);
        }

        .client-label {
            color: #cbd5e1;
            font-size: 0.9rem;
        }

        /* Arrow */
        .arrow {
            display: flex;
            justify-content: center;
            margin: 15px 0;
        }

        .arrow-line {
            width: 3px;
            height: 40px;
            border-radius: 2px;
        }

        .arrow-cyan-orange { background: linear-gradient(to bottom, #06b6d4, #f97316); }
        .arrow-orange-green { background: linear-gradient(to bottom, #f97316, #10b981); }
        .arrow-purple { background: linear-gradient(to bottom, #8b5cf6, #3b82f6); }

        /* Gateway Layer */
        .gateway-items {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
        }

        .gateway-box {
            padding: 15px 30px;
            border-radius: 12px;
            font-weight: 600;
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .gateway-api { background: linear-gradient(90deg, #f97316, #f59e0b); }
        .gateway-lb { background: linear-gradient(90deg, #f59e0b, #eab308); }

        .gateway-features {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .feature-tag {
            background: #334155;
            color: #cbd5e1;
            padding: 5px 12px;
            border-radius: 5px;
            font-size: 0.75rem;
        }

        /* Microservices Layer */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            max-width: 700px;
            margin: 0 auto;
        }

        .service-box {
            padding: 10px 15px;
            border-radius: 10px;
            color: white;
            font-size: 0.8rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s;
        }

        .service-box:hover {
            transform: scale(1.05);
        }

        .svc-user { background: #059669; }
        .svc-catalog { background: #0d9488; }
        .svc-cart { background: #16a34a; }
        .svc-order { background: #047857; }
        .svc-payment { background: #65a30d; }
        .svc-notification { background: #0f766e; }
        .svc-inventory { background: #15803d; }
        .svc-search { background: #10b981; }

        /* Event Bus */
        .event-bus-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
        }

        .event-line {
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, transparent, #8b5cf6);
            border-radius: 2px;
        }

        .event-line-right {
            background: linear-gradient(90deg, #8b5cf6, transparent);
        }

        .event-bus {
            background: linear-gradient(90deg, #7c3aed, #db2777);
            color: white;
            padding: 15px 25px;
            border-radius: 15px;
            font-weight: 600;
            box-shadow: 0 8px 25px rgba(124, 58, 237, 0.4);
            text-align: center;
        }

        .event-bus-title {
            font-size: 1rem;
            margin-bottom: 3px;
        }

        .event-bus-subtitle {
            font-size: 0.75rem;
            color: #e9d5ff;
        }

        /* Event Labels */
        .event-labels {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .event-label {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-family: monospace;
        }

        .event-publish { background: rgba(88, 28, 135, 0.5); border: 1px solid rgba(139, 92, 246, 0.3); color: #c4b5fd; }
        .event-subscribe { background: rgba(131, 24, 67, 0.5); border: 1px solid rgba(219, 39, 119, 0.3); color: #f9a8d4; }
        .event-notify { background: rgba(76, 29, 149, 0.5); border: 1px solid rgba(167, 139, 250, 0.3); color: #ddd6fe; }

        /* Data Layer */
        .data-grid {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .data-box {
            padding: 15px 20px;
            border-radius: 15px;
            color: white;
            text-align: center;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            min-width: 130px;
        }

        .data-icon {
            font-size: 1.5rem;
            margin-bottom: 8px;
        }

        .data-name {
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 4px;
        }

        .data-desc {
            font-size: 0.7rem;
            opacity: 0.8;
        }

        .db-postgres { background: linear-gradient(135deg, #2563eb, #1e40af); }
        .db-redis { background: linear-gradient(135deg, #dc2626, #991b1b); }
        .db-elastic { background: linear-gradient(135deg, #ca8a04, #a16207); }
        .db-mongo { background: linear-gradient(135deg, #16a34a, #15803d); }

        /* Order Flow */
        .flow-section {
            margin-top: 40px;
            background: rgba(30, 41, 59, 0.5);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid #334155;
        }

        .flow-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 25px;
            color: white;
        }

        .flow-steps {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            overflow-x: auto;
            padding-bottom: 10px;
        }

        .flow-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 100px;
        }

        .step-icon {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .step-1 { background: #0891b2; }
        .step-2 { background: #0d9488; }
        .step-3 { background: #059669; }
        .step-4 { background: #16a34a; }
        .step-5 { background: #65a30d; }
        .step-6 { background: #ca8a04; }

        .step-label {
            color: white;
            font-size: 0.8rem;
            margin-top: 10px;
            text-align: center;
            font-weight: 500;
        }

        .step-number {
            color: #64748b;
            font-size: 0.7rem;
            margin-top: 3px;
        }

        .step-event {
            color: #a78bfa;
            font-size: 0.7rem;
            margin-top: 5px;
            font-family: monospace;
        }

        .flow-connector {
            flex: 1;
            height: 3px;
            background: linear-gradient(90deg, #475569, #334155);
            margin: 27px 10px 0 10px;
            min-width: 30px;
        }

        /* Key Features */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 40px;
        }

        .feature-card {
            padding: 20px;
            border-radius: 15px;
            border: 1px solid;
        }

        .feature-card-green {
            background: linear-gradient(135deg, rgba(5, 150, 105, 0.2), rgba(6, 95, 70, 0.2));
            border-color: #047857;
        }

        .feature-card-blue {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.2), rgba(30, 64, 175, 0.2));
            border-color: #1d4ed8;
        }

        .feature-card-purple {
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.2), rgba(91, 33, 182, 0.2));
            border-color: #6d28d9;
        }

        .feature-card-red {
            background: linear-gradient(135deg, rgba(220, 38, 38, 0.2), rgba(153, 27, 27, 0.2));
            border-color: #b91c1c;
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .feature-title {
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 5px;
        }

        .feature-card-green .feature-title { color: #34d399; }
        .feature-card-blue .feature-title { color: #60a5fa; }
        .feature-card-purple .feature-title { color: #a78bfa; }
        .feature-card-red .feature-title { color: #f87171; }

        .feature-desc {
            color: #94a3b8;
            font-size: 0.85rem;
        }

        /* Footer */
        .footer {
            text-align: center;
            margin-top: 40px;
            color: #64748b;
            font-size: 0.85rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 { font-size: 1.8rem; }
            .services-grid { grid-template-columns: repeat(2, 1fr); }
            .features-grid { grid-template-columns: repeat(2, 1fr); }
            .clients { gap: 25px; }
            .data-grid { gap: 10px; }
            .data-box { min-width: 100px; padding: 12px 15px; }
        }

        @media (max-width: 480px) {
            .features-grid { grid-template-columns: 1fr; }
            .services-grid { grid-template-columns: 1fr 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Online Bookstore Order Processing System</h1>
            <h2>Event-Driven Microservices Architecture</h2>
            <div class="tags">
                <span class="tag tag-green">Event-Driven</span>
                <span class="tag tag-blue">Microservices</span>
                <span class="tag tag-purple">Scalable</span>
                <span class="tag tag-orange">Reliable</span>
            </div>
        </div>

        <!-- Main Diagram -->
        <div class="diagram-container">
            <!-- Architecture Badge -->
            <div class="architecture-badge">üèóÔ∏è Event-Driven Microservices</div>

            <!-- External Services -->
            <div class="external-services">
                <div class="external-badge badge-cdn">üåç CDN</div>
                <div class="external-badge badge-stripe">üí∞ Stripe</div>
                <div class="external-badge badge-email">üìß Email/SMS</div>
            </div>

            <!-- Client Layer -->
            <div class="layer client-layer">
                <div class="layer-label">Client Layer</div>
                <div class="clients">
                    <div class="client-item">
                        <div class="client-icon">üåê</div>
                        <span class="client-label">Web App</span>
                    </div>
                    <div class="client-item">
                        <div class="client-icon">üì±</div>
                        <span class="client-label">Mobile App</span>
                    </div>
                    <div class="client-item">
                        <div class="client-icon">üíª</div>
                        <span class="client-label">PWA</span>
                    </div>
                </div>
            </div>

            <!-- Arrow -->
            <div class="arrow">
                <div class="arrow-line arrow-cyan-orange"></div>
            </div>

            <!-- API Gateway Layer -->
            <div class="layer">
                <div class="layer-label">API Gateway Layer</div>
                <div class="gateway-items">
                    <div class="gateway-box gateway-api">
                        <span>üîí</span>
                        <span>API Gateway</span>
                    </div>
                    <div class="gateway-box gateway-lb">
                        <span>‚öñÔ∏è</span>
                        <span>Load Balancer</span>
                    </div>
                </div>
                <div class="gateway-features">
                    <span class="feature-tag">Rate Limiting</span>
                    <span class="feature-tag">JWT Validation</span>
                    <span class="feature-tag">SSL/TLS</span>
                </div>
            </div>

            <!-- Arrow -->
            <div class="arrow">
                <div class="arrow-line arrow-orange-green"></div>
            </div>

            <!-- Microservices Layer -->
            <div class="layer">
                <div class="layer-label">Microservices Layer</div>
                <div class="services-grid">
                    <div class="service-box svc-user"><span>üë§</span> User Service</div>
                    <div class="service-box svc-catalog"><span>üìö</span> Catalog Service</div>
                    <div class="service-box svc-cart"><span>üõí</span> Cart Service</div>
                    <div class="service-box svc-order"><span>üì¶</span> Order Service</div>
                    <div class="service-box svc-payment"><span>üí≥</span> Payment Service</div>
                    <div class="service-box svc-notification"><span>üîî</span> Notification Service</div>
                    <div class="service-box svc-inventory"><span>üìä</span> Inventory Service</div>
                    <div class="service-box svc-search"><span>üîç</span> Search Service</div>
                </div>
            </div>

            <!-- Event Bus -->
            <div class="event-bus-container">
                <div class="event-line"></div>
                <div class="event-bus">
                    <div class="event-bus-title">üì® Event Bus</div>
                    <div class="event-bus-subtitle">Kafka / RabbitMQ</div>
                </div>
                <div class="event-line event-line-right"></div>
            </div>

            <!-- Event Labels -->
            <div class="event-labels">
                <span class="event-label event-publish">üì§ Publish: OrderPlaced</span>
                <span class="event-label event-subscribe">üì• Subscribe: PaymentStatus</span>
                <span class="event-label event-notify">üîî Event: SendNotification</span>
            </div>

            <!-- Arrow -->
            <div class="arrow">
                <div class="arrow-line arrow-purple"></div>
            </div>

            <!-- Data Layer -->
            <div class="layer">
                <div class="layer-label">Data Layer</div>
                <div class="data-grid">
                    <div class="data-box db-postgres">
                        <div class="data-icon">üêò</div>
                        <div class="data-name">PostgreSQL</div>
                        <div class="data-desc">Orders, Users, Payments</div>
                    </div>
                    <div class="data-box db-redis">
                        <div class="data-icon">‚ö°</div>
                        <div class="data-name">Redis</div>
                        <div class="data-desc">Cache, Sessions, Cart</div>
                    </div>
                    <div class="data-box db-elastic">
                        <div class="data-icon">üîé</div>
                        <div class="data-name">Elasticsearch</div>
                        <div class="data-desc">Full-text Search</div>
                    </div>
                    <div class="data-box db-mongo">
                        <div class="data-icon">üçÉ</div>
                        <div class="data-name">MongoDB</div>
                        <div class="data-desc">Logs, Notifications</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Order Flow Section -->
        <div class="flow-section">
            <div class="flow-title">üìã Event-Driven Order Processing Flow</div>
            <div class="flow-steps">
                <div class="flow-step">
                    <div class="step-icon step-1">üìö</div>
                    <div class="step-label">Browse Books</div>
                    <div class="step-number">Step 1</div>
                </div>
                <div class="flow-connector"></div>
                <div class="flow-step">
                    <div class="step-icon step-2">üõí</div>
                    <div class="step-label">Add to Cart</div>
                    <div class="step-number">Step 2</div>
                </div>
                <div class="flow-connector"></div>
                <div class="flow-step">
                    <div class="step-icon step-3">üìù</div>
                    <div class="step-label">Place Order</div>
                    <div class="step-number">Step 3</div>
                    <div class="step-event">‚Üí OrderPlaced</div>
                </div>
                <div class="flow-connector"></div>
                <div class="flow-step">
                    <div class="step-icon step-4">üí≥</div>
                    <div class="step-label">Process Payment</div>
                    <div class="step-number">Step 4</div>
                    <div class="step-event">‚Üí PaymentStatus</div>
                </div>
                <div class="flow-connector"></div>
                <div class="flow-step">
                    <div class="step-icon step-5">üìä</div>
                    <div class="step-label">Update Inventory</div>
                    <div class="step-number">Step 5</div>
                </div>
                <div class="flow-connector"></div>
                <div class="flow-step">
                    <div class="step-icon step-6">üîî</div>
                    <div class="step-label">Send Notification</div>
                    <div class="step-number">Step 6</div>
                    <div class="step-event">‚Üê Subscribe</div>
                </div>
            </div>
        </div>

        <!-- Key Features -->
        <div class="features-grid">
            <div class="feature-card feature-card-green">
                <div class="feature-icon">üìà</div>
                <div class="feature-title">Scalability</div>
                <div class="feature-desc">Auto-scaling with Kubernetes</div>
            </div>
            <div class="feature-card feature-card-blue">
                <div class="feature-icon">üîÑ</div>
                <div class="feature-title">Reliability</div>
                <div class="feature-desc">Retry & Circuit Breaker</div>
            </div>
            <div class="feature-card feature-card-purple">
                <div class="feature-icon">‚ö°</div>
                <div class="feature-title">Event-Driven</div>
                <div class="feature-desc">Kafka Event Streaming</div>
            </div>
            <div class="feature-card feature-card-red">
                <div class="feature-icon">üîí</div>
                <div class="feature-title">Security</div>
                <div class="feature-desc">JWT + OAuth 2.0</div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            Event-Driven Microservices Architecture ‚Ä¢ Recommended Stack: ASP.NET Core + Kubernetes
        </div>
    </div>
</body>
</html>